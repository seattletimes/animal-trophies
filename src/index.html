<!doctype html>
<html>
  <head>
    <title><%= json.project.title %></title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <style>[ng-cloak] {display: none;}</style>
    <link rel="stylesheet" type="text/css" href="style.css">
    <%= t.include("partials/_head.html") %>
  </head>
  <body ng-app="animal-shipments">

    <responsive-child>

      <div class="{{filter}}" ng-controller="animalController" ng-cloak>

        <div class="title">Title goes here</div>

        <div class="loading" ng-if="!monthGroups">Loading...</div>

        <div class="toggle-box">
          Viewing:
          <div ng-click="filter = 'trophies'" class="toggle" ng-class="{selected: filter == 'trophies'}">Trophies</div>
          <div ng-click="filter = 'protected'" class="toggle" ng-class="{selected: filter == 'protected'}">Protected</div>
        </div>

        <div class="month-group" ng-repeat="group in monthGroups">
          <div class="month">{{group.monthName}}</div>
          <div class="box {{::shipment.categories}} {{::shipment.animals}}" ng-repeat="shipment in group.shipments">
            <div class="tooltip">
              <div class="component" ng-repeat="s in shipment.components">
                <span class="name">{{s["specific_name"]}} {{s["generic_name"]}} ({{s.category}})</span>
                <div>Quantity: {{s.qty}} <span ng-if="s.unit !== 'NO'">({{s.unit}})</span></div>
                <div></div>
                <div>From {{s.origin}} to {{s.dest}}</div>
                <div>{{s["ship_date"]}}</div>
              </div>
            </div>
          </div>
        </div>

      </div>

    </responsive-child>

    <script src="app.js" async></script>
    <% if (json.project.production) { %>
    <%= !json.project.embedded ? t.include("partials/_foot.html") : "" %>
    <%= t.include("partials/_workHere.html") %>
    <% } %>
  </body>
</html>
